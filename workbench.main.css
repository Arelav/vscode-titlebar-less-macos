
/**
 * Styles added by vscode-titlebar-less-macos extension
 * https://marketplace.visualstudio.com/items?itemName=lehni.vscode-titlebar-less-macos
 */

:root {
  --traffic-lights-width: 78px;
  --traffic-lights-height: 35px;
}

/**
 * Extension requires "window.titleBarStyle" to be set to "custom",
 * so use .titlebar-style-custom as a filter for all modifications.
 */

/* Make .activitybar wider to align with traffic lights */ 
.monaco-workbench.titlebar-less .activitybar,
.monaco-workbench.titlebar-less .activitybar .content {
  width: var(--traffic-lights-width);
}

/* Move .activitybar .content down to not be covered by traffic lights */
.monaco-workbench.titlebar-less:not(.fullscreen) .activitybar .content .monaco-action-bar.vertical {
  margin-top: var(--traffic-lights-height); 
}

/* Move .sidebar title when .activitybar is hidden */
.monaco-workbench.titlebar-less:not(.fullscreen) .activitybar[aria-hidden="true"] + .sidebar > .title {
  padding-left: var(--traffic-lights-width);
}

/* Move first .tab when .sidebar is hidden... */
.monaco-workbench.titlebar-less.nosidebar:not(.fullscreen) .tabs-container > .tab:first-child {
  margin-left: var(--traffic-lights-width);
}

/* ...but when .activitybar is visible and .sidebar is hidden, don't move first .tab  */
.monaco-workbench.titlebar-less:not(.fullscreen) .activitybar:not([aria-hidden="true"]) + .sidebar + .editor .tabs-container > .tab:first-child {
  margin-left: 0;
}

.monaco-workbench.titlebar-less .activitybar .content .monaco-action-bar .action-label {
  width: auto;
  background-position: center;
  padding: 0;
}

.monaco-workbench.titlebar-less .activitybar .content .monaco-action-bar .action-item::before {
  width: auto;
  right: 0;
}

.monaco-workbench.titlebar-less .activitybar .content .monaco-action-bar .badge {
  width: 100%;
}

.monaco-workbench.titlebar-less .activitybar .content .monaco-action-bar .badge .badge-content {
  left: calc(50% + 5px); /* So it works for all zoom levels */
  right: auto;
}

/* Allow dragging on the .activitybar... */
.monaco-workbench.titlebar-less .activitybar {
  -webkit-app-region: drag;
}

/* ...but still allow to click actions without dragging */
.monaco-workbench.titlebar-less .activitybar .content .monaco-action-bar {
  -webkit-app-region: no-drag;
}

 /* Allow dragging on .sidebar title... */
 .monaco-workbench.titlebar-less .sidebar .composite.title {
  -webkit-app-region: drag;
}

/* ...but still allow to click actions without dragging */
.monaco-workbench.titlebar-less .sidebar .title .title-actions .action-label {
  -webkit-app-region: no-drag;
}

/*
 * Support both .editor-group-container and .one-editor-silo .container for now.
 * See: https://github.com/Microsoft/vscode/commit/bd35d2e15bc2a88aa9ea857cbd6c407d5d225c1a
 * TODO: Remove .one-editor-silo in Fall 2018
 */

/* Allow dragging on tab-bar... */
.monaco-workbench.titlebar-less .part.editor .content .editor-group-container .title .tabs-container,
.monaco-workbench.titlebar-less .part.editor .content .one-editor-silo .container .title .tabs-container {
  -webkit-app-region: drag;
}

/* ...but still allow dragging tabs to re-order */
.monaco-workbench.titlebar-less .part.editor .content .editor-group-container .title .tabs-container .tab,
.monaco-workbench.titlebar-less .part.editor .content .one-editor-silo .container .title .tabs-container .tab {
  -webkit-app-region: no-drag;
}
